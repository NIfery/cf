<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.it.cf.board.model.BoardDAO">
	
	<insert id="boardWrite" parameterType="boardVo">
		<!-- <selectKey keyColumn="boardNo" resultType="int" order="BEFORE">
			select board2_seq.nextval from dual
		</selectKey> -->
		insert into board2(board_No,board_Title,board_Content,board_Filename,board_Oldfilename,board_Filesize)
		values(board2_seq.nextval,#{boardTitle},#{boardContent},#{boardFilename},#{boardOldfilename},#{boardFilesize})
	</insert>
	
	<select id="selectAll" resultType="boardVo">
		select * from board2
		order by board_No desc
	</select>
	
	 <update id="updateReadCount" parameterType="int">
 		update board2
 		set board_readcount=board_readcount+1
 		where board_No=#{boardNo}
 	</update>
	
	<select id="selectByNo" resultType="boardVo" parameterType="int">
		select * from board2
		where board_No =#{boardNo}
	</select>
	
	 <update id="updateDownCount" parameterType="int">
	 	update board2
	 	set BOARD_DOWNCOUNT = BOARD_DOWNCOUNT +1
	 	where BOARD_NO=#{boardNo}
	 </update>
</mapper>









